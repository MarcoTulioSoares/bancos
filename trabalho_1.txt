
CREATE TABLE Parque (
    codigo INTEGER PRIMARY KEY,
    nome TEXT,
    capacidadeMaxima INTEGER,
    codigoParqueAdm INTEGER,
    FOREIGN KEY (codigoParqueAdm) REFERENCES Parque(codigo)
        ON DELETE RESTRICT
        ON UPDATE CASCADE
);

CREATE TABLE Cliente (
    cpf TEXT PRIMARY KEY,
    nome TEXT,
    dataNascimento TEXT,  
    telefone TEXT
);

CREATE TABLE FoodTruck (
    codigo INTEGER PRIMARY KEY,
    nome TEXT,
    variedade TEXT
);

CREATE TABLE Gestor (
    cpf TEXT PRIMARY KEY,
    nome TEXT NOT NULL,
    salario REAL NOT NULL,  
    codigoParque INTEGER NOT NULL,
    graduacao TEXT NOT NULL,
    FOREIGN KEY (codigoParque) REFERENCES Parque(codigo)
        ON DELETE RESTRICT
        ON UPDATE CASCADE
);

CREATE TABLE Colaborador (
    cpf TEXT(11) PRIMARY KEY,
    nome TEXT(100) NOT NULL,
    salario REAL NOT NULL,
    codigoParque INTEGER NOT NULL,
    ramo TEXT NOT NULL,
    FOREIGN KEY (codigoParque) REFERENCES Parque(codigo)
        ON DELETE RESTRICT
        ON UPDATE CASCADE
);

CREATE TABLE Visita (
    codigoParque INTEGER NOT NULL,
    cpfCliente TEXT NOT NULL,
    PRIMARY KEY (codigoParque, cpfCliente),
    FOREIGN KEY (codigoParque) REFERENCES Parque(codigo)
        ON DELETE RESTRICT
        ON UPDATE CASCADE,
    FOREIGN KEY (cpfCliente) REFERENCES Cliente(cpf)
        ON DELETE RESTRICT
        ON UPDATE CASCADE
);

CREATE TABLE Ingresso (
    codigo INTEGER PRIMARY KEY,
    dia TEXT,  
    cpf_fk TEXT,
    FOREIGN KEY (cpf_fk) REFERENCES Cliente(cpf)
        ON DELETE RESTRICT
        ON UPDATE CASCADE
);

CREATE TABLE Evento (
    codigo INTEGER PRIMARY KEY,
    nome TEXT,
    codigoParque INTEGER,
    FOREIGN KEY (codigoParque) REFERENCES Parque(codigo)
        ON DELETE RESTRICT
        ON UPDATE CASCADE
);

CREATE TABLE Atracao (
    nomeArtista TEXT PRIMARY KEY
);

CREATE TABLE Abriga (
    nomeArtista TEXT,
    codigoFoodTruck INTEGER,
    codigoEvento INTEGER,
    tema TEXT,
    PRIMARY KEY (nomeArtista, codigoFoodTruck),
    FOREIGN KEY (nomeArtista) REFERENCES Atracao(nomeArtista)
        ON DELETE RESTRICT
        ON UPDATE CASCADE,
    FOREIGN KEY (codigoFoodTruck) REFERENCES FoodTruck(codigo)
        ON DELETE RESTRICT
        ON UPDATE CASCADE
);

INSERT INTO Parque (codigo, nome, capacidadeMaxima, codigoParqueAdm) VALUES 
(1, 'Parque das Flores', 500,1 ),
(2, 'Parque dos Lagos', 300, 1),
(3, 'Parque da Montanha', 200, 1);


INSERT INTO Cliente (cpf, nome, dataNascimento, telefone) VALUES 
('12345678900', 'João Silva', '1985-05-12', '11999999999'),
('98765432100', 'Maria Oliveira', '1990-10-25', '21988888888'),
('45612378900', 'Carlos Santos', '1975-03-15', '31977777777');


INSERT INTO FoodTruck (codigo, nome, variedade) VALUES 
(1, 'Truck do Hamburguer', 'Fast Food'),
(2, 'Truck da Pizza', 'Italiano'),
(3, 'Truck do Sorvete', 'Sobremesa');


INSERT INTO Gestor (cpf, nome, salario, codigoParque, graduacao) VALUES 
('32165498700', 'Ana Costa', 8000.00, 1, 'Administração'),
('65498732100', 'Pedro Almeida', 7500.00, 2, 'Engenharia Ambiental');


INSERT INTO Colaborador (cpf, nome, salario, codigoParque, ramo) VALUES 
('78945612300', 'Lucas Rocha', 3000.00, 1, 'Manutenção'),
('14725836900', 'Juliana Freitas', 2800.00, 2, 'Recepção'),
('25836914700', 'Fernando Lima', 3200.00, 3, 'Operações');


INSERT INTO Visita (codigoParque, cpfCliente) VALUES 
(1, '12345678900'),
(2, '98765432100'),
(3, '45612378900');


INSERT INTO Ingresso (codigo, dia, cpf_fk) VALUES 
(1, '2024-12-01', '12345678900'),
(2, '2024-12-02', '98765432100'),
(3, '2024-12-03', '45612378900');


INSERT INTO Evento (codigo, nome, codigoParque) VALUES 
(1, 'Festival de Música', 1),
(2, 'Exposição de Arte', 2),
(3, 'Feira de Gastronomia', 3);


INSERT INTO Atracao (nomeArtista) VALUES 
('Banda XYZ'),
('DJ Alpha'),
('Orquestra Sinfônica');


INSERT INTO Abriga (nomeArtista, codigoFoodTruck, codigoEvento, tema) VALUES 
('Banda XYZ', 1, 1, 'Rock'),
('DJ Alpha', 2, 2, 'Eletrônica'),
('Orquestra Sinfônica', 3, 3, 'Clássico');
